<%  signed_id = blob.signed_id
    display_name = blob.filename.to_s
    blob_path = rails_blob_path(blob, disposition: "attachment") %>

<div id="<%= signed_id %>" class="col-4 borde border-info row align-items-center image-item d-flex flex-column" 
    data-sort-item-id="<%= image_id%>" data-sort-url="/products/<%= product_id%>/sort_image"
    data-signed-id="<%= signed_id %>" data-image-target="fileItem" >
    <% if f.present? %>
      <%= f.hidden_field :id %>
      <%= f.hidden_field :file, value:  signed_id %>
      <%= f.hidden_field :position, value:  image_position,  "data-sortable-target": "hposition" %>
    <% else %>
      <input value="<%= signed_id %>" autocomplete="off" type="hidden" name="product[images_attributes][<%= blob.id%>][file]">
      <input value="<%= image_position%>" autocomplete="off" type="hidden" name="product[images_attributes][<%= blob.id%>][position]" data-sortable-target="hposition">
    <% end %>
    <div class="col">
      <i class="bi bi-arrows-move js-sort-handle fs-3"></i>
      <span class="badge bg-info float-end mt-1" data-sortable-target="position"><%= image_position%></span>
    </div>
    <div class="col" data-original-image-url="<%= url_for(blob) if blob.present? %>">
      <% img = image_id.present? ? blob.variant(:thumb) : url_for(blob) %>
      <%= image_tag img, class: 'mw-100' if blob.present? %>
    </div>
    <div class="col text-center"><%# display_name %></div>
    <div class="col mt-2 d-flex justify-content-between">
      <a href="<%= url_for(blob) if blob.present? %>" data-fancybox="gallery"><i class="bi bi-eye"></i></a>
      <%= link_to '<i class="bi bi-trash3"></i>'.html_safe, delete_images_path(blob_signed_id: signed_id, image_id: image_id), data: {  turbo_method: :post,  turbo_confirm: "Are you sure?"}  %>
    </div>
</div>
